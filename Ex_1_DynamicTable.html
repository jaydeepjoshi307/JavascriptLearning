<!DOCTYPE html>
<html>
  <head>
    <title>
      After 30 sec you have to make api call and bind this to grid component
      with pagination
    </title>
    <!-- <script src="jquery-3.6.4.min.js"></script> -->
    <style>
      table {
            border-collapse: collapse;
            width: 100%;
        }

        td,
        th {
            border: 1px solid #000000;
            text-align: left;
            padding: 8px;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    
  </head>

  <body>
    <div id="datatable">
      <table id="datalist">
        <thead>
          <tr>
            <th>IDs</th>
            <th>TITLEs</th>
          </tr>
        </thead>
        <!-- <tbody>
          <td>12</td>
          <td>21</td>
        </tbody> -->
        <tbody></tbody>
      </table>
    </div>
    

    <script>
      // $(document).ready(function(){
      //     $.get("https://jsonplaceholder.typicode.com/todos", function(data, status){
      //       for (let i = 0; i < data.length; i++) {
      //         console.log("Data: " + data[i].id );
      //         insertdata(data[i]);
      //       }
      //     });
      // });
      tempdata = [
        {
          userId: 1,
          id: 1,
          title: "delectus aut autem",
          completed: false,
        },
        {
          userId: 1,
          id: 2,
          title: "quis ut nam facilis et officia qui",
          completed: false,
        },
        {
          userId: 1,
          id: 3,
          title: "fugiat veniam minus",
          completed: false,
        },
        {
          userId: 1,
          id: 4,
          title: "et porro tempora",
          completed: true,
        },
        {
          userId: 1,
          id: 5,
          title:
            "laboriosam mollitia et enim quasi adipisci quia provident illum",
          completed: false,
        },
      ];

      function insertdata(data) {
        console.log(data);
        var table = document
          .getElementById("datalist")
          .getElementsByTagName("tbody")[0];
        // console.log("data_length " + table.length);
        var newRow = table.insertRow(data.length);
        var cell1 = newRow.insertCell(0);
        cell1.innerHTML = data.id;
        var cell2 = newRow.insertCell(1);
        cell2.innerHTML = data.title;
        // console.log(data);
      }

      // for (let i = 0; i < tempdata.length; i++) {
      //   insertdata(tempdata[i]);
      // }
      
      const interval = setInterval(function () {
        for (let i = 0; i < tempdata.length; i++) {
        insertdata(tempdata[i]);
      }
      }, 5000);

      

      // id_vals = [];
      // title_vals = [];
      // for (let i=0; i<tempdata.length; i++){

      // 	let id_val = tempdata[i].id;
      // 	let title_val = tempdata[i].title;

      // 	id_vals.push(id_val);
      // 	title_vals.push(title_val);
      // 	// document.getElementById("case_1").innerHTML = id_val;
      // 	// document.getElementById("case_2").innerHTML = title_val;
      // 	// console.log("id: " + tempdata[i].id + " , title: " + tempdata[i].title);
      // }
      // console.log("ids : " + id_vals);
      // console.log("titles : " + title_vals);
      // console.log("Vscode")
    </script>
  </body>
</html>
